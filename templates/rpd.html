{% extends 'base.html' %}
{% block warnings %}
{% if move %}
<div class="alert"> <button type="button" class="close" data-dismiss="alert">&times;</button>
<strong>Moved!</strong> The file [ {{ move }} ] was moved to the downloads folder.</div>
{% endif %}

{% if delete %}
<div class="alert alert-error"> <button type="button" class="close" data-dismiss="alert">&times;</button>
<strong>Deleted!</strong> The file [ {{ delete }} ] was deleted forever.</div>
{% endif %}

{% endblock %}

{% block content %}

<div class="row-fluid">
    <div class="span2">
        <h1>Ranking</h1>
        <ol>
        {% for word, ratio in words %}
            {% if word %}
                <li>
                    {% if ratio >= 10 %}
                        <span class="label label-important">
                    {% elif ratio >= 5 %}
                        <span class="label label-warning">
                    {% else %}
                        <span class="label">
                    {% endif %}{{ ratio }}</span> 
                {{ word|lower|title }}</li>
            {% endif %}
        {% endfor %}
        </ol>
    </div> <!-- rankings -->
    <div class="span10">
        <h1>List</h1>
        {% for rating, short, video, thumbnails, id in library %}
            <div class="span3">
                <div id="myCarousel{{ id }}" class="carousel slide" style="background:lightgrey">
                    <h5>
                        {% if rating >= 10 %}
                            <span class="badge badge-important">
                        {% elif rating >= 5 %}
                            <span class="badge badge-warning">
                        {% else %}
                            <span class="badge">
                        {% endif %}
                        {{rating}}
                        </span> 
                        <a href="#" >{{ short|slice:":20" }}...</a>
                        
                    </h5>
                    <ol class="carousel-indicators">
                        <li data-target="#myCarousel{{ id }}" data-slide-to="0" class="active"></li>
                        <li data-target="#myCarousel{{ id }}" data-slide-to="1"></li>
                        <li data-target="#myCarousel{{ id }}" data-slide-to="2"></li>
                        <li data-target="#myCarousel{{ id }}" data-slide-to="3"></li>
                    </ol>
                    <!-- Carousel items -->
                    <div class="carousel-inner">
                        <div class="active item"><img src="{{STATIC_URL}}{{thumbnails.0}}"></div>
                        <div class="item"><img src="{{STATIC_URL}}{{thumbnails.1}}"></div>
                        <div class="item"><img src="{{STATIC_URL}}{{thumbnails.2}}"></div>
                        <div class="item"><img src="{{STATIC_URL}}{{thumbnails.3}}"></div>
                    </div>
                    <!-- Carousel nav -->
                    <a class="carousel-control left" href="#myCarousel{{ id }}" data-slide="prev">&lsaquo;</a>
                    <a class="carousel-control right" href="#myCarousel{{ id }}" data-slide="next">&rsaquo;</a>
                </div>
                <div class="row-fluid">
                    <div class="span1">
                        <form method="post">
                            {% csrf_token %}
                            <input type="hidden" name="video" value="{{ video }}">
                            <input type="hidden" name="short" value="{{ short }}">
                            <input type="submit" class="btn btn-primary" value="Keep this video">
                        </form>
                    </div>
                    <div class="span1 offset7">
                        <form method="post">
                            {% csrf_token %}
                            <input type="hidden" name="delete" value="{{ video }}">
                            <input type="hidden" name="short" value="{{ short }}">
                            <input type="submit" class="btn btn-danger" value="Delete it">
                        </form>
                    </div> <!-- second form -->
                </div> <!-- buttons row -->
            </div> <!-- carousel -->
        {% endfor %}
    </div> <!-- carousels box -->
</div> <!-- row -->
{% endblock %}

{% block extra_javascript %}
<script type="text/javascript">

</script>

{% endblock %}